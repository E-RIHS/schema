{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://e-rihs.io/schema/catalogue-v1.0.schema.json",
    "$code": "3a9d",
    "title": "Catalogue",
    "type": "object",
    "required": ["title", "summary", "services"],
    "properties": {
        "$schema": {
            "type": "string",
            "options": {
                "hidden": true
            }
        },
        "id": {
            "type": "string",
            "cordra": {
                "type": {
                    "autoGeneratedField": "handle"
                }
            }
        },
       "title": {
            "title": "Title",
            "description": "Catalogue title",
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "cordra": {
                "preview": {
                    "showInPreview": true,
                    "isPrimary": true
                }
            }
        },
        "summary": {
            "title": "Catalogue Summary",
            "description": "A brief description of a specific technical or access service offered, such as the use of X to investigate Y",
            "type": "string",
            "format": "textarea",
            "minLength": 3,
            "maxLength": 512,
            "cordra": {
                "preview": {
                    "showInPreview": true,
                    "excludeTitle": true
                }
            }
        },
        "services": {
            "title": "Services",
            "description": "A list of services offered by the catalogue",
            "type": "array",
            "items": {
                "title": "Service",
                "type": "object",
                "required": ["service_id", "service_active"],
                "properties": {
                    "service_id": {
                        "title": "Service ID",
                        "type": "string",
                        "cordra": {
                            "type": {
                                "handleReference": {
                                    "types": ["Service"]
                                }
                            }
                        }
                    },
                    "service_active": {
                        "title": "Active service",
                        "description": "Is the service currently open for access?",
                        "type": "boolean",
                        "default": true
                    },
                    "checked_date": {
                        "title": "Checked Date",
                        "description": "When was the description of the service last checked",
                        "type": "string",
                        "format": "date"
                    }
                }
            }
        }
    }
}