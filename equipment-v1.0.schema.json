{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://e-rihs.io/schema/equipment-v1.0.schema.json",
    "$code": "01ba",
    "title": "Equipment",
    "type": "object",
    "required": [
        "name",
        "description",
        "output_data_type",
        "last_checked_date"
    ],
    "properties": {
        "id": {
            "type": "string",
            "cordra": {
                "type": {
                    "autoGeneratedField": "handle"
                }
            }
        },
        "name": {
            "title": "Name or Title",
            "description": "The simple name or title for the piece of equipment.",
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "cordra": {
                "preview": {
                    "showInPreview": true,
                    "isPrimary": true
                }
            }
        },
        "description": {
            "title": "Description",
            "description": "A longer description of the equipment, or a reference to an external document.",
            "anyOf": [
                {
                    "title": "Reference to external documents",
                    "type": "object",
                    "properties": {
                        "citation": {
                            "title": "Citation",
                            "description": "The formatted details for the given reference.",
                            "type": "string"
                        },
                        "url": {
                            "title": "URL",
                            "description": "URL",
                            "type": "string",
                            "format": "uri"
                        }
                    }
                },
                {
                    "title": "Textual description",
                    "type": "string",
                    "format": "textarea"
                }
            ]
        },
        "has_defined_components": {
            "title": "Has defined components",
            "description": "Other tools that are components of this tool",
            "type": "array",
            "items": {
                "title": "Component",
                "type": "object",
                "properties": {
                    "component_type": {
                        "type": "string",
                        "description": "The type of component",
                        "examples": [
                            "Detector",
                            "Column",
                            "Camera"
                        ]
                    },
                    "tool": {
                        "type": "string",
                        "cordra": {
                            "type": {
                                "handleReference": {
                                    "types": ["Equipment", "Software"]
                                }
                            }
                        }
                    }
                }
            }
        },
        "output_data_type": {
            "title": "Output data type",
            "description": "The type of output data that the equipment creates",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "examples": [
                    "X/Y data",
                    "X/Y/Z data",
                    "images",
                    "moving images"
                ]
            }
        },
        "last_checked_date": {
            "title": "Last Checked date",
            "description": "For hardware tools the last checked date relates to when equipment was last tested or callibrated, to confirm that it is working and performing as designed.",
            "type": "string",
            "format": "date"
        },
        "has_url": {
            "title": "Has link",
            "description": "Links to the software website or documentation",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "link_type": {
                        "title": "Type",
                        "type": "string",
                        "enum": [
                            "website",
                            "documentation",
                            "source code",
                            "demo",
                            "online resource",
                            "other"
                        ]
                    },
                    "url": {
                        "title": "Link",
                        "type": "string",
                        "format": "uri"
                    }
                }
            }
        },
        "acquisition_areas": {
            "title": "Acquisition/target areas",
            "description": "Needs to be refined further at this level it will probably be best to define a list of Classes here - specific relative locations would need to be defined in actual examination models",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "object_impact": {
            "title": "Impact on object or sample",
            "description": "The impact of the equipment on the object being examined",
            "type": "array",
            "items": {
                "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/object_impact"
            }
        },
        "working_distances": {
            "title": "Working distances",
            "description": "This will need to be a drop of distance Classes rather than a specific value - actual values with dimensions will need to be stored in method statements",
            "type": "array",
            "items": {
                "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/working_distance"
            }
        },
        "manufacturer": {
            "title": "Manufacturer",
            "description": "Manufacturer of the equipment",
            "type": "string"
        },
        "model": {
            "title": "Model",
            "description": "Model or version of the equipment",
            "type": "string"
        },
        "serial_number": {
            "title": "Serial number",
            "description": "Serial number of the equipment",
            "type": "string"
        },
        "callibration_pid": {
            "title": "Callibration Event PID",
            "description": "Please link to the Callibration Event or Research Activty, PID which relates to the documentation of the last time the equipment was callibrated.",
            "type": "string",
            "format": "uri"
        }
    }
}
