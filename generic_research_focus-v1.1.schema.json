{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://e-rihs.io/schema/generic_research_focus-v1.1.schema.json",
    "$code": "04c7",
    "title": "Generic research focus description",
    "type": "object",
    "required": ["label", "titles"],
    "properties": {
        "$schema": {
            "type": "string",
            "options": {
                "hidden": true
            }
        },
        "id": {
            "type": "string",
            "cordra": {
                "type": {
                    "autoGeneratedField": "handle"
                }
            }
        },
        "label": {
            "title": "Label",
            "description": "A short label (primary title) for the research focus",
            "type": "string",
            "minLength": 3,
            "maxLength": 150,
            "cordra": {
                "preview": {
                    "showInPreview": true,
                    "isPrimary": true
                }
            }
        },
        "titles": {
            "title": "Titles",
            "description": "Titles for the research focus",
            "type": "array",
            "minItems": 1,
            "items": {
                "title": "Title",
                "type": "object",
                "required": ["title", "language"],
                "properties": {
                    "title": {
                        "title": "Title",
                        "description": "A title for the research focus",
                        "type": "string"
                    },
                    "type": {
                        "title": "Type of the title",
                        "enum": ["short title", "long title", "alternative title"],
                        "default": "short title",
                        "$comment": "TODO: replace with controlled list"
                    },
                    "language": {
                        "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/operating_language"
                    }
                }
            }
        },
        "alternative_ids": {
            "title": "Alternative IDs",
            "description": "Alternative IDs for the research focus",
            "type": "array",
            "items": {
                "title": "Alternative ID",
                "type": "object",
                "required": ["id", "type"],
                "properties": {
                    "id": {
                        "title": "ID",
                        "description": "An alternative ID for the research focus",
                        "type": "string"
                    },
                    "type": {
                        "title": "Type of the alternative ID",
                        "description": "The type of the alternative ID, choose other for e.g. inventory numbers and use the source field to indicate the source of the alternative ID",
                        "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/persistent_identifier"
                    },
                    "source": {
                        "title": "Source of the alternative ID",
                        "description": "Optional field to indicate the source of the alternative ID, e.g. in case of inventory number, the organisation that holds the inventory",
                        "$comment": "TODO: currently free text, but could point to an 'source' schema, e.g. institution's collection management systems, inventory numbering systems...",
                        "type": "string"
                    }
                }
            }
        },
        "object_description": {
            "title": "Description of the object",
            "description": "General description of the object",
            "type": "string",
            "minLength": 100,
            "maxLength": 1500,
            "format": "textarea"
        },
        "research_summary": {
            "title": "Research summary",
            "description": "A summary of previous research results and observations on the object",
            "type": "string",
            "minLength": 100,
            "maxLength": 1500,
            "format": "textarea"
        },
        "location": {
            "title": "Location",
            "description": "The location of the object (as a free text)",
            "type": "string"
        },
        "location_geonames": {
            "title": "Location (Geonames ID)",
            "description": "The location of the object (as a Geonames URL)",
            "type": "string",
            "format": "uri"
        },
        "owner": {
            "title": "Owner",
            "description": "The owner of the object",
            "type": "string",
            "cordra": {
                "type": {
                    "handleReference": {
                        "types": ["Person", "Organisation"]
                    }
                }
            }
        },
        "bibliography": {
            "title": "Bibliography",
            "description": "Bibliography related to the research focus.",
            "type": "array",
            "items": {
                "title": "Reference",
                "type": "object",
                "required": ["citation"],
                "properties": {
                    "citation": {
                        "title": "Citation",
                        "description": "The formatted details for the given reference.",
                        "type": "string",
                        "format": "textarea",
                        "minLength": 1,
                        "maxLength": 800
                    },
                    "url": {
                        "title": "URL",
                        "description": "URL",
                        "type": "string",
                        "format": "uri"
                    },
                    "role": {
                        "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/reference_role"
                    }
                }
            }
        },
        "links": {
            "title": "Links",
            "description": "Links related to the research focus",
            "type": "array",
            "minItems": 1,
            "format": "table",
            "items": {
                "title": "Link",
                "type": "object",
                "required": ["url", "type"],
                "properties": {
                    "url": {
                        "title": "Link URL",
                        "description": "A related resolvable URL",
                        "type": "string",
                        "format": "uri"
                    },
                    "type": {
                        "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/link_type"
                    }
                }
            }
        }
    }
}

