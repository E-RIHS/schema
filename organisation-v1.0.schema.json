{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$id": "https://e-rihs.io/schema/organisation-v1.0.schema.json",
    "$code": "2dc0",
    "title": "Organisation",
    "type": "object",
    "required": [
        "acronym",
        "name",
        "mbox",
        "research_disciplines"
    ],
    "properties": {
        "$schema": {
            "type": "string",
            "options": {
                "hidden": true
            }
        },
        "id": {
            "type": "string",
            "cordra": {
                "type": {
                    "autoGeneratedField": "handle"
                }
            }
        },
        "acronym": {
            "title": "Acronym",
            "description": "Acronym",
            "type": "string"
        },
        "name": {
            "title": "Name",
            "description": "Name",
            "type": "string"
        },
        "display_name": {
            "title": "Display Name",
            "description": "Display Name, used internally for improved findability of the organisation",
            "type": "string",
            "options": {
                "hidden": true
            },
            "cordra": {
                "preview": {
                    "showInPreview": true,
                    "isPrimary": true
                }
            }
        },
        "external_pids": {
            "title": "External PIDs",
            "description": "External PIDs",
            "type": "array",
            "items": {
                "type": "object",
                "required": ["pid_type", "pid"],
                "properties": {
                    "pid_type": {
                        "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/persistent_identifier"
                    },
                    "pid": {
                        "title": "PID",
                        "description": "PID",
                        "type": "string",
                        "format": "uri"
                    }
                }
            }
        },
        "based_in": {
            "title": "Country of Operation",
            "description": "The country in which the organisation is based for legal and professional reasons, the value will be used in relation to distribution of organisations and in relation to initial assemesnt of elegability when it is related to location.",
            "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/country"
        },
        "organisation_type": {
            "title": "Organisation type",
            "description": "Type or legal status of the organisation. This dropdown list gives a few examples, but if required, you can enter a different value here.",
            "type": "array",
            "items": {
                "title": "Type",
                "description": "Type",
                "type": "string",
                "cordra": {
                    "type": {
                        "suggestedVocabulary": [
                            "Research organisation",
                            "University",
                            "Public body",
                            "Private body"
                        ]
                    }
                }
            }
        },
        "part_of_organisation": {
            "title": "Parent organisations",
            "description": "Parent organisations",
            "type": "array",
            "items": {
                "type": "object",
                "required": ["organisation_pid"],
                "properties": {
                    "organisation_pid": {
                        "title": "Organisation",
                        "description": "Reference to an organisation",
                        "type": "string",
                        "cordra": {
                            "type": {
                                "handleReference": {
                                    "types": ["Organisation"]
                                }
                            }
                        }
                    },
                    "start_date": {
                        "title": "Start date",
                        "description": "Start date",
                        "type": "string",
                        "format": "date"
                    },
                    "end_date": {
                        "title": "End date",
                        "description": "End date",
                        "type": "string",
                        "format": "date"
                    }
                }
            }
        },
        "mbox": {
            "title": "Email",
            "description": "Contact email address",
            "type": "string",
            "format": "email"
        },
        "phone": {
            "title": "Phone",
            "description": "Contact phone number",
            "type": "string",
            "format": "tel"
        },
        "img_url": {
            "title": "Image URL",
            "description": "Image URL",
            "type": "string",
            "format": "uri"
        },
        "webpages": {
            "title": "Webpages",
            "description": "Webpages",
            "type": "array",
            "items": {
                "title": "URL",
                "description": "URL",
                "type": "string",
                "format": "uri"
            }
        },
        "research_disciplines": {
            "title": "Research Disciplines",
            "description": "Which domains or disciplines has this organisation worked within, has experience within. This field is connected to an extensive controlled list.",
            "type": "array",
            "minItems": 1,
            "items": {
                "$ref": "https://e-rihs.io/schema/controlled_lists.schema.json#/definitions/research_discipline"
            }
        },
        "research_disciplines_narrower": {
            "title": "Research Disciplines (narrower/other)",
            "description": "More precise description of the domains or disciplines this organisation has worked within or has experience within (free text).",
            "type": "array",
            "items": {
                "title": "Research Discipline",
                "type": "string"
            }
        },
        "research_references": {
            "title": "Research References",
            "description": "Research References",
            "type": "array",
            "items": {
                "type": "object",
                "required": ["reference"],
                "properties": {
                    "reference": {
                        "title": "Citation",
                        "description": "Preferred Citation text",
                        "type": "string"
                    },
                    "url": {
                        "title": "URL",
                        "description": "URL",
                        "type": "string",
                        "format": "uri"
                    },
                    "reference_type": {
                        "title": "Reference type",
                        "description": "The purpose of the reference; what does it relate to or provide more information for.  This dropdown list gives a few examples, but if required, you can enter a different value here.",
                        "type": "string",
                        "cordra": {
                            "type": {
                                "suggestedVocabulary": [
                                    "Example research",
                                    "Collaboration",
                                    "E-RIHS Report"
                                ]
                            }
                        }
                    }
                }
            }
        },
        "cited_as": {
            "title": "Cited as",
            "description": "Cited as, funding name, etc.",
            "type": "string"
        },
        "joined_the_field_date": {
            "title": "Date of joining this research field",
            "description": "When did this organisation start working in this field?",
            "type": "string",
            "format": "date"
        },
        "first_active_date": {
            "title": "First active date",
            "description": "First date this organisation was active in E-RIHS (administrative field which will be automatically filled in)",
            "type": "string",
            "format": "date"
        },
        "last_active_date": {
            "title": "Last active date",
            "description": "Last date this organisation was active in E-RIHS (administrative field which will be automatically filled in)",
            "type": "string",
            "format": "date"
        }
    }
}
